import { useRef } from "react"
import { H2Stretch } from "./titles/H2Stretch"

export const Loader = () => {
   const loaderRef = useRef<HTMLDivElement>(null)
   setTimeout(() => {
      loaderRef.current?.classList.add("loading-end");
   }, 2000)

   return (
      <>
         <div ref={loaderRef} style={sectionStyle}>
            <div className="loader-div">
               <svg id="visual" viewBox="0 0 900 600" width="400" height="300" xmlns="http://www.w3.org/2000/svg"
                  xmlnsXlink="http://www.w3.org/1999/xlink" version="1.1">
                  <g transform="translate(444.64877659910394 276.29842382962937)">
                     <path fill="#ffffff">
                        <animate attributeName="d" dur="8s" repeatCount="indefinite"
                           values="
                        M90.7 -162.9C117.6 -141.4 139.8 -117.5 167.5 -89.9C195.3 -62.3 228.6 -31.2 239.3 6.2C250 43.5 238 87 219.4 130.3C200.7 173.6 175.3 216.7 137.7 236.5C100 256.2 50 252.6 9 237C-32 221.4 -64 193.9 -98.5 172.3C-133 150.7 -170 135.1 -190.7 107.4C-211.3 79.7 -215.7 39.8 -223.2 -4.3C-230.7 -48.5 -241.3 -97 -220.3 -124.1C-199.3 -151.1 -146.5 -156.8 -104.5 -169.5C-62.5 -182.3 -31.3 -202.1 0.3 -202.6C31.8 -203.1 63.7 -184.3 90.7 -162.9;
                        M108.5 -177.8C146.1 -166.3 185.6 -148.2 207.2 -117.4C228.8 -86.7 232.4 -43.3 225.2 -4.2C218 35 199.9 70 180.3 104.2C160.7 138.4 139.6 171.8 109.3 200.2C79 228.5 39.5 251.7 -5.2 260.8C-50 269.9 -100 264.9 -127.1 234.7C-154.1 204.5 -158.3 149.1 -179.8 105.8C-201.3 62.5 -240.1 31.3 -255.5 -8.9C-270.9 -49 -262.7 -98 -236.2 -132.6C-209.7 -167.3 -164.9 -187.6 -122.4 -196.2C-80 -204.9 -40 -201.9 -2.3 -198.1C35.5 -194.2 71 -189.3 108.5 -177.8;
                        M105.7 -185.7C143.3 -161.3 184.7 -145.9 217.7 -116.4C250.7 -87 275.3 -43.5 272.5 -1.7C269.6 40.2 239.1 80.3 204.8 107.4C170.4 134.5 132.1 148.4 97.3 170C62.5 191.6 31.3 220.8 -2.8 225.6C-36.8 230.5 -73.7 210.9 -115.7 193.5C-157.7 176.1 -204.8 160.8 -228.3 128.9C-251.7 97 -251.3 48.5 -236.3 8.7C-221.3 -31.2 -191.6 -62.3 -174.5 -105.2C-157.5 -148.1 -153 -202.6 -126 -233.2C-99 -263.8 -49.5 -270.4 -7.8 -257C34 -243.6 68 -210.1 105.7 -185.7;
                        M112.7 -198C139.6 -179.5 150.8 -136.5 173 -99.4C195.3 -62.3 228.6 -31.2 244.1 8.9C259.5 49 257.1 98 232.7 131.3C208.2 164.7 161.9 182.4 119.4 207.5C77 232.7 38.5 265.4 -5.7 275.3C-50 285.3 -100 272.5 -142 247.1C-184 221.7 -218 183.6 -233.3 140.3C-248.7 97 -245.3 48.5 -239 3.7C-232.6 -41.2 -223.3 -82.3 -198.6 -109.4C-173.9 -136.5 -133.8 -149.4 -98.2 -162.8C-62.5 -176.3 -31.3 -190.1 5.8 -200.2C42.8 -210.2 85.7 -216.4 112.7 -198;
                        M94.4 -173.7C124.1 -146.3 151.3 -124.7 174.6 -96.7C197.9 -68.7 217.5 -34.3 222.4 2.8C227.3 40 217.6 80 203.1 123.3C188.6 166.6 169.3 213.2 134.6 226.2C100 239.2 50 218.6 2.9 213.6C-44.2 208.5 -88.3 219 -126.9 208.2C-165.4 197.5 -198.3 165.5 -207.5 127.2C-216.7 89 -202.1 44.5 -196.2 3.4C-190.2 -37.7 -193 -75.3 -185.2 -116C-177.5 -156.7 -159.2 -200.5 -126.6 -226.1C-94 -251.8 -47 -259.4 -7.3 -246.7C32.3 -234 64.7 -201 94.4 -173.7;
                        M90.7 -162.9C117.6 -141.4 139.8 -117.5 167.5 -89.9C195.3 -62.3 228.6 -31.2 239.3 6.2C250 43.5 238 87 219.4 130.3C200.7 173.6 175.3 216.7 137.7 236.5C100 256.2 50 252.6 9 237C-32 221.4 -64 193.9 -98.5 172.3C-133 150.7 -170 135.1 -190.7 107.4C-211.3 79.7 -215.7 39.8 -223.2 -4.3C-230.7 -48.5 -241.3 -97 -220.3 -124.1C-199.3 -151.1 -146.5 -156.8 -104.5 -169.5C-62.5 -182.3 -31.3 -202.1 0.3 -202.6C31.8 -203.1 63.7 -184.3 90.7 -162.9;
                        "
                        >
                        </animate>
                     </path>
                  </g>
               </svg>
               <H2Stretch>Miguel.Dev_</H2Stretch>
               <h5>Loading blobs ...</h5>
            </div>
         </div>
      </>
   )
}

const sectionStyle: React.CSSProperties = {
   position: 'fixed',
   zIndex: '999',
   top: 0,
   left: 0,
   right: 0,
   height: '100%',
   overflow: 'hidden',
   backgroundColor: '#B191FF',
   display: 'flex',
   justifyContent: 'center',
   flexDirection: 'column',
   alignItems: 'center',
   padding: 0,
   margin: 0,
}